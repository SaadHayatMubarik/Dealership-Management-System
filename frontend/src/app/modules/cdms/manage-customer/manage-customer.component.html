
<p-toast position="top-center"></p-toast>

<div class="comp-content">
  <div class="toolbar-header mb-3">
    <div class="comp-title">
      <h3>Manage Customer</h3>
    </div>
    <div class="comp-btns">
      <app-button label="New" styleClass="p-button-sm p-button-rounded" (onclick)="openModal()"></app-button>
    </div>
    <br>
  </div>

  <!-- <div class="middle-content w-o-tabs mt-3">
    <div class="filter-row flex justify-content-between pt-3">

    </div>
    <app-datatable [data]="data" [cols]="columns" [globalFilterFields]="[]" [actions]="actions"></app-datatable>
  </div> -->

  <p-tabView (onChange)="onTabChange($event)" [(activeIndex)]="selectedTabIndex">   
    <p-tabPanel header="Dealership">
      <app-datatable [data]="data" [cols]="dealershipColumns" [globalFilterFields]="[]" [actions]="actions"></app-datatable>
    </p-tabPanel>
    <p-tabPanel header="Agent">
      <app-datatable [data]="data" [cols]="columns" [globalFilterFields]="[]" [actions]="actions"></app-datatable>
    </p-tabPanel>
    <p-tabPanel header="Customer">
      <app-datatable [data]="data" [cols]="columns" [globalFilterFields]="[]" [actions]="actions"></app-datatable>
    </p-tabPanel>

  </p-tabView>

  <p-sidebar [(visible)]="modal" position="right" [style]="{width: '55rem'}" >
<<<<<<< HEAD
    <form  (ngSubmit)="onSubmit()" #Seller="ngForm"> 
=======
    <form  (ngSubmit)="onSubmit()" #customer="ngForm"> 
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
        <div class="sidebar-main">
          <div class="sidebar-header">
            <div class="sh-title">
              <h5 style="text-align: center;"> Customer Details</h5>
              <br>
            </div>
            <div class="sh-toolbar">
              </div>
            </div>
          </div>
          <div class="sidebar-content">
            <div class="card-grey padding">
              <div class="row-form grid" >

                <div class="col-4">
                  <div class="p-field">
                  <span class="p-float-label">
                    <p-dropdown
<<<<<<< HEAD
                    [required]="true"
                     [options]="sellerCategory" 
=======
                     [options]="category" 
                     class="p-inputtext-lg" 
                     placeholder="Select a Vehicle Type"
                     name="seller_category"

                     ></p-dropdown>
                    <label for="float-label">Customer Category</label>
                  </span>
                  </div>
                </div>
                <div class="col-4">
                  <div class="p-field">
                  <span class="p-float-label">
                    <p-dropdown
                     [options]="customerType" 
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                     class="p-inputtext-lg" 
                     placeholder="Select a Vehicle Type"
                     name="category"
                     [(ngModel)]="selectedSellerCategory"
                     #catergory = "ngModel"
                     ></p-dropdown>
<<<<<<< HEAD
                     
                     <div *ngIf="catergory.invalid && (catergory.dirty || catergory.touched)" class="p-error">
                      <span *ngIf="catergory.errors?.['required']">
                        Category is required.</span>    
                    </div>

                    <label for="float-label">Seller Category</label>
=======
                    <label for="float-label">Customer Type</label>
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                  </span>
                  </div>
                </div>

                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input 
                      class="p-inputtext-lg"
                       pInputText 
<<<<<<< HEAD
                       name="name"
                       required
                       [(ngModel)]="customer.name"
                       #name = "ngModel"
                      pattern="^[a-zA-Z]+(?:\s+[a-zA-Z]+)*$"
=======
                       name="type"
                       required
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                       />

                       <div *ngIf="name.invalid && (name.dirty || name.touched)" class="p-error">
                        <span *ngIf="name.errors?.['required']">
                          Please Enter Name.</span>   
                          <br>
                          <span *ngIf="name.errors?.['pattern']">
                            Please Enter Valid Name. Remove unneccessary spaces</span>  
                      </div>

                       <label htmlFor="customerName">
                        {{ selectedCategory === 'AGENT' ? 'Agent' : selectedCategory === 'CUSTOMER' ? 'Customer' : selectedCategory === 'DEALERSHIP' ? 'Dealership' : '' }} Name
                      </label>
                  </span>
                  </div>
                </div>
<<<<<<< HEAD

=======
              </div>
              <div class="row-form grid">
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
                      name="phone_no"
                      required
<<<<<<< HEAD
                      [(ngModel)]="customer.phone_no"
                      #phone_no = "ngModel"
                      pattern="^(03\d{9}|021\d{8})$"
                      minlength="11"
                      maxlength="11"
=======

>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                      />

                      <div *ngIf="phone_no.invalid && (phone_no.dirty || phone_no.touched)" class="p-error">
                        <span *ngIf="phone_no.errors?.['required']">
                          Please Enter Phone Number.</span>   
                          <br>
                          <span *ngIf="phone_no.errors?.['pattern' || 'minlength' || 'maxlength']">
                            Please Enter Valid Mobile Number.</span>  
                      </div>

                      <label htmlFor="number">Contact Number</label>
                  </span>
                  </div>
                </div>
              
              <br>
<<<<<<< HEAD

              <div class="row-form grid">
=======
              
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg"
                       required
                       email
                       pInputText
<<<<<<< HEAD
                       name="email"
                       [(ngModel)]="customer.email"
                       #email = "ngModel"
=======
                       name="number"

>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                       />

                       <div *ngIf="email.invalid && (email.dirty || email.touched)" class="p-error">
                        <span *ngIf="email.errors?.['required']">
                          Please Enter Email.</span>   
                          <br>
                          <span *ngIf="email.errors?.['email']">
                            Please Enter A Valid Email.</span>  
                      </div>

                      <label htmlFor="email">Email</label>
                  </span>
                  </div>
                </div>
<<<<<<< HEAD


=======
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
<<<<<<< HEAD
                      name="province"
                      [(ngModel)]="customer.province"
                      #province = "ngModel" 
                      minlength="3"
                      maxlength="20"
                      pattern="^\S(?:\s*\S)*$"
                      />
                      <div *ngIf="province.invalid && (province.dirty || province.touched)" class="p-error">
                        <span *ngIf="province.errors?.['required']">
                          Please Enter Province.</span>   
                          <br>
                          <span *ngIf="province.errors?.['maxlength']"> 
                            Exceeding length.</span>  
                            <br>
                            <span *ngIf="province.errors?.['minlength']"> 
                            City Name too short.
                          </span>
                      </div>

=======
                      name="email"

                      />
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                      <label htmlFor="province">Province</label>
                    </span>
                  </div>
                </div>
<<<<<<< HEAD

                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
                      name="city"
                      [(ngModel)]="customer.City"
                      #city = "ngModel"
                      minlength="3"
                      maxlength="40"
                      pattern="^\S(?:\s*\S)*$"
                      />

                      <div *ngIf="city.invalid && (city.dirty || city.touched)" class="p-error">
                        <span *ngIf="city.errors?.['required']">
                          Please Enter City Name of Person/Dealership.</span>   
                          <br>
                          <span *ngIf="city.errors?.['maxlength']"> 
                            Exceeding length.</span>  
                            <br>
                            <span *ngIf="city.errors?.['minlength']"> 
                            City Name too short.
                          </span>
                      </div>

                      <label for="float-label">City</label>
                  </span>
                  </div>
                </div>
=======
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
              </div>
              <div class="row-form grid">
                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
<<<<<<< HEAD
                      name="address"
                      [(ngModel)]="customer.address"
                      #address = "ngModel"
                      pattern="^\S(?:\s*\S)*$"
                      required
=======
                      name="province"

                      />
                      <label for="float-label">City</label>
                  </span>
                  </div>
                </div>
              
              <br>
              
                <div class="col-4">
                  <div class="p-field">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
                      name="Address"

>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                      />

                      <div *ngIf="address.invalid && (address.dirty || address.touched)" class="p-error">
                        <span *ngIf="city.errors?.['required']">
                          Please Enter Address.</span>  
                            <br>
                            <span *ngIf="address.errors?.['pattern']"> 
                            Enter Valid Address, Remove unneccessary spaces.
                          </span>
                      </div>

                      <label for="float-label">Address</label>
                  </span>
                  </div>
                </div>
                <div class="col-4">
                  <div class="p-field" *ngIf="selectedCategory === 'AGENT' || selectedCategory === 'CUSTOMER'">
                    <span class="p-float-label">
                      <input class="p-inputtext-lg" 
                      pInputText
                      name="cnic"
<<<<<<< HEAD
                      [(ngModel)]="customer.cnic"
                      #cnic = "ngModel"
                      required
                      minlength="13"
                      maxlength="13"
                      pattern="[0-9]*"
=======
                  
>>>>>>> 19e34e7fe71b01eca3c2c9f9ef2825fd526cf750
                      />

                      <div *ngIf="cnic.invalid && (cnic.dirty || cnic.touched)" class="p-error">
                        <span *ngIf="cnic.errors?.['required']">
                          Please Enter Cnic Number.</span>  
                            <br>
                            <span *ngIf="cnic.errors?.['pattern' || 'minlength' || 'maxlength']"> 
                            Enter Valid Cnic Number.
                          </span>
                      </div>

                      <label for="float-label">CNIC</label>
                  </span>
                  </div>
                </div>
              </div>
           
              <br>
            
              </div>
            </div>
            <div class="sidebar-footer flex justify-content-end">
              <app-button
              type="submit"
               label="save" 
               styleClass="p-button-sm p-button-rounded" 
               ></app-button>
            </div>
            </form>
  </p-sidebar>  
          
          
        
        
        


      


